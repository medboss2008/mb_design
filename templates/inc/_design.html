
<style>
    


/* Designs Section */
#designs {
    background-color: #f9f9f9;
    padding: 80px 20px;
    display: flex;
    flex-direction: column;
    align-items: center;
}

/* Grid Container */
.design-grid {
    display: flex; /* Enable flexbox layout for the grid */
    flex-wrap: wrap; /* Allow items to wrap onto the next line */
    gap: 20px; /* Space between items */
    justify-content: center; /* Center items horizontally */
    max-width: 1600px; /* Maximum width of the grid container */
    width: 100%; /* Full width of the grid container */
}

/* Individual Design */
.design {
    display: flex; /* Enable flexbox layout inside each card */
    flex-direction: column; /* Stack content vertically within the card */
    align-items: center; /* Center content horizontally within the card */
    text-align: center;
    background-color: #fff;
    border-radius: 10px;
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
    padding: 20px;
    transition: transform 0.3s ease, box-shadow 0.3s ease;
    flex: 1 1 calc(20% - 20px); /* Four cards per row */
    max-width: calc(20% - 20px); /* Maximum width for four cards per row */
}

/* Design Image */
.design-image {
    width: 100%;
    height: auto;
    margin-bottom: 20px;
    border-radius: 8px;
}

/* Design Title and Content */


.design h3 {
    font-size: 2em;
    margin-bottom: 10px;
}

.design p {
    font-size: 1.1em;
}

/* Hover effect for design */
.design:hover {
    transform: translateY(-10px);
    box-shadow: 0 8px 30px rgba(0, 0, 0, 0.2);
}

/* Button Container */
.button-container {
    display: flex;
    gap: 5px; /* Space between buttons */
    margin-top: 10px;
    width: 100%; /* Ensure the container takes full width */
}

/* View Details Link */
.view-details {
    flex: 1; /* Each button takes equal space */
    text-align: center; /* Center the text inside the buttons */
    padding: 1.5%;
    background-color: #f4b400; /* Button background color */
    color: #333; /* Text color */
    text-decoration: none;
    border-radius: 5px;
    font-weight: bold;
    transition: background-color 0.3s ease, color 0.3s ease;
}

/* Hover effect for View Details links */
.view-details:hover {
    background-color: #505050; /* Darker shade on hover */
    color: #fff; /* White text on hover */
}

/* Specific styling for "Buy" button */
.buy {
    display: flex; /* Active le mode Flexbox */
    align-items: center; /* Centre verticalement le contenu */
    justify-content: center; /* Centre horizontalement le contenu */
    background-color: #56ac59; /* Couleur de fond verte */
    color: #fff; /* Texte en blanc */
    padding: 5px 15px; /* Réduit l'espacement interne */
    border-radius: 3px; /* Coins arrondis plus petits */
    text-decoration: none; /* Enlève la décoration du texte */
    font-weight: bold; /* Texte en gras */
    font-size: 0.9em; /* Réduit la taille de la police si nécessaire */
    transition: background-color 0.3s ease;
}

/* Hover effect for "Buy" button */
.buy:hover {
    background-color: #505050; /* Darker green on hover */
}

/* Specific styling for "Add to basket" button */
.add-to-basket {
    background-color: #ffffff; /* Orange background for Add to basket */
    color: #373737; /* White text */
    border: 2px solid #111;
}

/* Hover effect for "Add to basket" button */
.add-to-basket:hover {
    background-color: #373737; /* Darker orange on hover */
    border: 2px solid #373737;
}

/* Responsive Design Adjustments */
@media (max-width: 1025px) {
    .design {
        flex: 1 1 calc(50% - 20px); /* Three cards per row on tablets */
        max-width: calc(50% - 20px); /* Maximum width for three cards per row */
    }
    .button-container {
        flex-direction: column; /* Stack buttons vertically on smaller screens */
        gap: 5px; /* Reduce space between buttons */
        align-items: center; /* Center buttons horizontally */
    }
    .view-details {
        width: 80%; /* Buttons take 80% of the container's width on mobile */
        padding: 5px; /* Adjust padding for better touch interaction */
    }
}

@media (max-width: 1281px) {
    .design {
        flex: 1 1 calc(33% - 20px); /* Three cards per row on tablets */
        max-width: calc(33% - 20px); /* Maximum width for three cards per row */
    }
    .button-container {
        flex-direction: column; /* Stack buttons vertically on smaller screens */
        gap: 5px; /* Reduce space between buttons */
        align-items: center; /* Center buttons horizontally */
    }
    .view-details {
        width: 80%; /* Buttons take 80% of the container's width on mobile */
        padding: 5px; /* Adjust padding for better touch interaction */
    }
}

@media (max-width: 1450px) {
    .design {
        flex: 1 1 calc(33% - 20px); /* Three cards per row on tablets */
        max-width: calc(33% - 20px); /* Maximum width for three cards per row */
    }
    .button-container {
        flex-direction: column; /* Stack buttons vertically on smaller screens */
        gap: 5px; /* Reduce space between buttons */
        align-items: center; /* Center buttons horizontally */
    }
    .view-details {
        width: 80%; /* Buttons take 80% of the container's width on mobile */
        padding: 5px; /* Adjust padding for better touch interaction */
    }
}

@media (min-width: 1450px) {
    .design {
    display: flex; /* Enable flexbox layout inside each card */
    flex-direction: column; /* Stack content vertically within the card */
    align-items: center; /* Center content horizontally within the card */
    text-align: center;
    background-color: #fff;
    border-radius: 10px;
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
    padding: 20px;
    transition: transform 0.3s ease, box-shadow 0.3s ease;
    flex: 1 1 calc(20% - 20px); /* Four cards per row */
    max-width: calc(20% - 20px); /* Maximum width for four cards per row */
}
.button-container {
    display: flex;
    gap: 5px; /* Space between buttons */
    margin-top: 10px;
    width: 100%; /* Ensure the container takes full width */
}
.view-details {
    flex: 1; /* Each button takes equal space */
    text-align: center; /* Center the text inside the buttons */
    padding: 1.5%;
    text-decoration: none;
    border-radius: 5px;
    font-weight: bold;
    transition: background-color 0.3s ease, color 0.3s ease;
}
}

@media (max-width: 768px) {
    .design {
        flex: 1 1 calc(80% - 20px); /* Two cards per row on mobile */
        max-width: calc(80% - 20px); /* Maximum width for two cards per row */
    }

    .button-container {
        flex-direction: column; /* Stack buttons vertically on smaller screens */
        gap: 5px; /* Reduce space between buttons */
        align-items: center; /* Center buttons horizontally */
    }

    .view-details {
        width: 80%; /* Buttons take 80% of the container's width on mobile */
        padding: 5px; /* Adjust padding for better touch interaction */
    }
}

#more {
    margin-top: 10%;
    text-decoration: none;
    font-size: 20px;
    background-color: #f4b400;
    color: #ffffff;
    border-radius: 25px;
    padding: 10px 20px;
}

#more:hover {
    margin-top: 10%;
    text-decoration: none;
    font-size: 20px;
    background-color: #363636;
    color: #ffffff;
    border-radius: 25px;
    padding: 10px 20px;
}
</style>

<section id="designs">
    <h2 class="designs-title">Our Designs</h2>
    <div class="design-grid" id="designGrid">
        <!-- Images will be loaded dynamically here -->
    </div>
    <a href="/design" id="more">More Designs ></a>
</section>

<script>
document.addEventListener('DOMContentLoaded', function() {
    const designGrid = document.getElementById('designGrid');

    // Récupérer la liste des designs depuis le serveur
    fetch('/list-designs')
        .then(response => response.json())
        .then(designs => {
            // Créer un élément pour chaque design
            designs.forEach(function(design) {
                // Créer la div pour chaque design
                const designDiv = document.createElement('div');
                designDiv.classList.add('design');

                // Créer l'élément img
                const img = document.createElement('img');
                img.src = design.image_url;
                img.alt = design.image_url.split('/').pop().replace('.jpeg', ''); // Texte alternatif pour l'accessibilité
                img.classList.add('design-image');

                // Créer le conteneur des boutons
                const buttonContainer = document.createElement('div');
                buttonContainer.classList.add('button-container');

                // Créer le bouton "Buy"
                const buyButton = document.createElement('a');
                buyButton.href = '#'; // Utilisation de '#' pour éviter le rechargement de la page
                buyButton.classList.add('view-details', 'buy');
                buyButton.textContent = 'Buy';
                buyButton.addEventListener('click', function(event) {
                    event.preventDefault();
                    fetch('/add-to-basket', {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/x-www-form-urlencoded'
                        },
                        body: new URLSearchParams({
                            'design_id': design.id
                        })
                    })
                    .then(response => response.json())
                    .then(data => {
                        alert(data.message); // Affiche un message de confirmation
                    })
                    .catch(error => {
                        console.error('Error adding to basket:', error);
                    });
                });

                // Ajouter le bouton "Buy" au conteneur
                buttonContainer.appendChild(buyButton);

                // Ajouter l'image et le conteneur des boutons à la div design
                designDiv.appendChild(img);
                designDiv.appendChild(buttonContainer);

                // Ajouter la div design à la grille des designs
                designGrid.appendChild(designDiv);
            });
        })
        .catch(error => console.error('Error fetching design images:', error));
});



</script>